import random
from apikey import APIKEY

validlines = [18, 126, 168, 339, 342, 372, 377, 396, 403, 417, 467, 503, 517, 574, 578, 584, 592, 635, 649, 654, 663, 743, 962, 972, 1102, 1120, 1169, 1175, 1186, 1207, 1253, 1274, 1292, 1303, 1309, 1370, 1432, 1533, 1537, 1585, 1630, 1643, 1682, 1699, 1713, 1719, 1720, 1733, 1752, 1755, 1766, 1848, 1849, 1960, 1963, 2108, 2157, 2178, 2181, 2247, 2300, 2305, 2307, 2310, 2402, 2404, 2430, 2445, 2456, 2518, 2520, 2536, 2546, 2559, 2569, 2601, 2640, 2649, 2669, 2735, 2785, 2798, 2885, 2912, 2943, 2947, 2986, 2999, 3053, 3073, 3076, 3094, 3135, 3144, 3155, 3158, 3166, 3170, 3179, 3195, 3230, 3246, 3272, 3335, 3345, 3391, 3411, 3426, 3431, 3445, 3472, 3473, 3474, 3496, 3501, 3520, 3541, 3578, 3627, 3645, 3649, 3694, 3696, 3698, 3707, 3714, 3715, 3721, 3726, 3727, 3770, 3833, 3835, 3836, 3848, 3863, 3874, 3881, 3928, 3929, 4010, 4031, 4035, 4051, 4056, 4090, 4129, 4132, 4140, 4155, 4243, 4254, 4269, 4305, 4342, 4433, 4453, 4523, 4641, 4646, 4658, 4695, 4741, 4777, 4779, 4788, 4822, 4835, 5047, 5092, 5128, 5189, 5196, 5201, 5218, 5220, 5233, 5266, 5285, 5418, 5438, 5439, 5457, 5592, 5633, 5664, 5717, 5726, 5732, 5874, 5875, 5882, 5916, 5936, 5946, 5951, 5968, 5970, 6026, 6097, 6102, 6156, 6165, 6181, 6205, 6208, 6260, 6311, 6335, 6356, 6404, 6477, 6556, 6621, 6627, 6670, 6693, 6705, 6732, 6774, 6786, 6792, 6809, 6816, 6841, 6890, 6902, 7054, 7099]

def returnurl():
    f = open("airports.dat")
    g = f.readlines()
    f.close()
    latlng = g[validlines[random.randint(0, len(validlines)-1)]]
    latlng = ",".join(latlng.split(',')[6:8]).strip("\n")
    url = "https://maps.googleapis.com/maps/api/streetview?" + \
           "size=400x400&" + \
           "location=" + latlng + \
           "&fov=90&heading=235&pitch=10" +\
           "&key=" + APIKEY
    return {"url":url, "lat":latlng.split(",")[0], "lng":latlng.split(",")[1]}

if __name__=="__main__":
    print(returnurl())